<html lang="en" x-data="scrambledTitle()">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title x-text="scrambledTitle + ' — umenovedná výprava'">***** ***</title>
  <link rel="stylesheet" href="/build/tailwind.css">
  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
</head>

<body class="bg-gray-800">
  <div class="relative min-h-96 h-4/5 text-yellow-400">
    <div id="openseadragon1" class="absolute inset-0"></div>
    <div class="relative h-full flex justify-center items-center uppercase">
      <h1 class="text-8xl text-center leading-loose" x-html="scrambledTitle.replace(' ', '<br>')"></h1>
      <h2 class="absolute text-center tracking-widest mt-2 text-2xl mx-auto my-auto">Umenovedná&nbsp;výprava</h3>
    </div>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current absolute w-6 top-0 right-0 m-8">
      <path d="M10.684 10.684h7.945v3.29h-6.577v1.369h6.577v3.288h-7.945v-7.947zm0-8.349l6.979 6.98h-6.979v-6.98zm-9.316-.967h7.948v7.947H1.368V1.368zm10.285 0h6.976v6.981l-6.976-6.981zM0 0v10.684h9.316v7.947H1.368v-6.579H0V20h20V0H0z" />
    </svg>
  </div>
  <div class="py-8">
    <div class="w-4/5 mx-auto text-center text-yellow-200 font-bold uppercase">
      <p class="text-xl pt-8 leading-relaxed tracking-wider">
        Vydávame sa na niekoľkomesačnú vzrušujúcu umenovednú výpravu
        na ktorej otvoríme dôležité a aktuálne témy
      </p>

      <ul class="text-2xl my-6">
        <li class="my-2">umenie × propaganda</li>
        <li class="my-2">hoax</li>
        <li class="my-2">kult osobnosti</li>
        <li class="my-2">originál × kópia</li>
        <li class="my-2">monumentálna maľba</li>
        <li class="my-2">umenie na zakázku</li>
        <li class="my-2">a mnoho ďalších.</li>
      </ul>

      <p class="text-xl py-8 leading-relaxed tracking-wider">
        Pripravované videá, prednášky, diskusie, články, audio podcasty,
        a ďalšie formáty na tieto témy budete môcť už onedlho sledovať
        práve tu.
      </p>

      <a class="inline-block py-4 px-3 bg-yellow-400 text-pink-400 text-2xl leading-tight rounded-xl" href="#">
        Prihláste sa do nášho newslettera!
      </a>
    </div>
  </div>


  <script>
    function pickRandom(array) {
      return array[Math.floor(Math.random() * array.length)]
    }

    const titleVariants = [
      '*k*i* ze*',
      '**ci* ze*',
      '**cia ***',
      'ak**a ***',
      '*k*ia ***',
      '**c** *et',
      'a*c** *e*',
      '*k**a **t',
      '**c*a z**',
      'a**i* ***',
      '**ci* **t',
      '****a zet',
    ]

    function scrambledTitle() {
      return {
        scrambledTitle: pickRandom(titleVariants).toUpperCase()
      }
    }
  </script>

  <!-- Loading background image -->
  <script src="https://cdn.jsdelivr.net/npm/openseadragon@2.4/build/openseadragon/openseadragon.min.js"></script>
  <script type="text/javascript">
    const tileSource = new OpenSeadragon.DziTileSource(
      12250, 13337, 256, 0,
      'https://img.webumenia.sk/zoom/?path=%2FVystavy%2Fakciazet%2Fjp2%2Fakciazet.jp2_files/',
      'jpg',
    )

    const destinations = [
      // Basket and laser
      new OpenSeadragon.Point(0.842960994906955, 0.8255290402730286),
      // Laser
      new OpenSeadragon.Point(0.8523437192450622, 0.9084920054965528),
      // Basket
      new OpenSeadragon.Point(0.8328838529685686, 0.727800779243577),
      // Kid
      new OpenSeadragon.Point(0.9004653202226491, 0.6406824684652968),
      // Flowers, steps
      new OpenSeadragon.Point(0.3631640732536106, 0.8829698372826646),
      // Vase
      new OpenSeadragon.Point(0.15148269401970513, 0.9554515575399319),
      // Elderly
      new OpenSeadragon.Point(0.09602800100641957, 0.6637986366888344),
    ]

    var viewer = OpenSeadragon({
      id: "openseadragon1",
      showNavigationControl: false,
      mouseNavEnabled: false,
      defaultZoomLevel: 7,
      minPixelRatio: 1,
      tileSources: tileSource,
      immediateRender: true,
    })

    viewer.addHandler('open', function () {
      viewer.viewport.panTo(pickRandom(destinations), true);
    })
    viewer.addHandler('pan', function () {
      // Utility for setting destinations
      // console.log(viewer.viewport.getCenter());
    })
  </script>
</body>

</html>
